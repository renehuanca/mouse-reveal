---
const textToCopy = "npm install mouse-reveal";
---

<button id="copy-button" class="relative group" title="Copy to clipboard">
  <svg xmlns="http://www.w3.org/2000/svg" class="size-5" viewBox="0 0 24 24">
    <path
      fill="currentColor"
      d="M7 6V3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1h-3v3c0 .552-.45 1-1.007 1H4.007A1.001 1.001 0 0 1 3 21l.003-14c0-.552.45-1 1.006-1zM5.002 8L5 20h10V8zM9 6h8v10h2V4H9z"
    ></path>
  </svg>
  <span id="copy-tooltip" class="tooltip hidden">Copied!</span>
</button>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const button = document.getElementById("copy-button");
    const tooltip = document.getElementById("copy-tooltip");

    button?.addEventListener("click", async () => {
      try {
        await navigator.clipboard.writeText("npm install mouse-reveal");
        tooltip?.classList.remove("hidden");
        tooltip?.classList.add("fade-out");

        setTimeout(() => {
          tooltip?.classList.add("hidden");
          tooltip?.classList.remove("fade-out");
        }, 2000);
      } catch (err) {
        console.error("Error copying text: ", err);
      }
    });
  });
</script>

<style>
  .tooltip {
    position: absolute;
    top: -30px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0, 0, 0, 0.7);
    color: white;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 12px;
    white-space: nowrap;
  }

  .hidden {
    display: none;
  }

  .fade-out {
    animation: fadeOut 2s forwards;
  }

  @keyframes fadeOut {
    0% {
      opacity: 1;
    }
    100% {
      opacity: 0;
    }
  }
</style>
